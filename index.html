<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emergency Service Directory</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles/blog.css">

  </head>
<body>
  <!-- Navbar -->
  <header>
    <div class="brand">
      <div class="logo-box"> 
      <img src="assets/logo.png" alt=" ">
      </div>
      <h1 style="font-weight:800;font-size:18px;color: green;">Emergency <br>Service</h1>
    </div>
    </div>

    <nav>
  <div style="display:flex; align-items:center; gap:4px;">
    <span id="heartCount">0</span><img src="assets/heart.png" alt="Heart" style="width:20px; height:20px;">
  </div>

  <div style="display:flex; align-items:center; gap:4px;">
    <span id="coinCount">100</span><img src="assets/coin.png" alt="Coin" style="width:20px; height:20px;">
  </div>

  <div style="display:flex; align-items:center; gap:4px; background-color:#00A63E; padding:4px 15px; border-radius:15px; color:white;">
    <span id="copyCount">0</span><span>Copy</span> 
  </div>
</nav>

  </header>

  <!-- Hero -->
  <section class="hero">
    <div><img src="assets/logo-dark.png" alt=""></div>
    <h2>Emergency Service Directory</h2>
    <p>Government Emergency Services at Your Fingertips — A Project by the People’s Republic of Bangladesh</p>
  </section>

  
  <!-- Main -->
  <main>
    <!-- Cards -->
    <section>
      <div id="cardsGrid"></div>
    </section>

    <!-- History -->
    <aside>
      <header>
        <div><i class="fa-regular fa-clock"></i> Call History</div>
        <button id="clearHistory">Clear</button>
      </header>
      <ul id="historyList"></ul>
    </aside>
  </main>

  
  <!-- Templates -->
  <template id="cardTemplate">
    <div class="card">
      <div class="top">
  
        <div style="display:flex; flex-direction: column; align-items: left; gap: 4px;">
   <img src="assets/emergency.png" alt="Logo" class="icon" style="width:40px; height:40px; object-fit: contain;">
  <p style="font-size:12px;color:#64748b;" class="bn-name">Bangla Name</p>
  <h4 class="en-name" style="margin:0;">English Name</h4>
  </div>

  <button class="heart" style="background:none;border:none;font-size:18px;cursor:pointer;"><i class="fa-regular fa-heart"></i></button>
      </div>
      <p class="name">Emergency Number</p>
      <div class="number">999</div>
      <span class="category">All</span>
      <div class="actions">
        <button class="btn copy"><i class="fa-regular fa-copy"></i> Copy</button>
        <button class="btn call"><i class="fa-solid fa-phone"></i> Call</button>
      </div>
    </div>
  </template>

  
  <template id="historyItemTemplate">
    <li>
      
      <div class="service-container">
  <div class="left-side">
    <p class="service-name">Service</p>
    <p style="font-size:12px;color:#64748b;">
      <span class="service-number">000</span>
    </p>
  </div>
  <div class="right-side">
    <span class="time">12:00</span>
  </div>
</div>
    </li>
  </template>

  <!-- Script -->
  <script>
    const SERVICES = [
      { logo:'emergency.png', en:'National Emergency Number', name:'National Emergency', number:'999', category:'All' },
      { logo:'police.png', en:'Police Helpline Number', name:'Police', number:'999', category:'Police' },
      { logo:'fire-service.png', en:'Fire Service Number',name:'Fire Service', number:'999', category:'Fire' },
      { logo:'ambulance.png', en:'Ambulance Service', name:'Ambulance', number:'1994-999999', category:'Health' },
      { logo:'emergency.png', en:'Women & Child Helpline',name:'Women & Child Helpline', number:'109', category:'Help' },
      { logo:'emergency.png', en:'Anti-Corruption Helpline',name:'Anti-Corruption', number:'106', category:'Govt.' },
      { logo:'emergency.png', en:'Electricity Helpline',name:'Electricity Outage', number:'16216', category:'Electricity' },
      { logo:'emergency.png', en:'Brac Helpline', name:'Brac', number:'16445', category:'NGO' },
      { logo:'emergency.png', en:'Bangladesh Railway Helpline',name:'Travel', number:'163', category:'Travel' }
    ];

    let heartCount = 0, coin = 100, copyCount = 0;
    const history = [];

    const heartEl = document.getElementById('heartCount');
    const coinEl = document.getElementById('coinCount');
    const copyEl = document.getElementById('copyCount');
    const cardsGrid = document.getElementById('cardsGrid');
    const historyList = document.getElementById('historyList');

    function renderCards() {
      const tpl = document.getElementById('cardTemplate');
      SERVICES.forEach(s => {
        const node = tpl.content.cloneNode(true);
        node.querySelector('.icon').src = 'assets/'+ s.logo;
        node.querySelector('.bn-name').textContent = s.bn;
        node.querySelector('.en-name').textContent = s.en;
        node.querySelector('.name').textContent = s.name;
        node.querySelector('.number').textContent = s.number;
        node.querySelector('.category').textContent = s.category;
        const card = node.children[0];

        card.querySelector('.heart').addEventListener('click', () => {
          heartCount++; heartEl.textContent = heartCount;
        });
        card.querySelector('.copy').addEventListener('click', async () => {
          try {
            await navigator.clipboard.writeText(s.number);
            alert(`Copied ${s.en} number: ${s.number}`);
            copyCount++; copyEl.textContent = copyCount;
          } catch {
            alert('Copy failed.');
          }
        });
        card.querySelector('.call').addEventListener('click', () => handleCall(s));

        cardsGrid.appendChild(node);
      });
    }